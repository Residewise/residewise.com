<nav class="navbar navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="#">Residewise</a>

        <div>
            <div class="nav-item btn-group" role="group" aria-label="Basic outlined example">


                <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge(app.request.query.all|merge({'_locale': 'en' }))) }}"

                   class="btn {% if app.request.locale == 'en' %} active btn-primary {% else %} btn-secondary  {% endif %}">EN</a>
                <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge(app.request.query.all|merge({'_locale': 'cz' }))) }}"
                   class="btn me-2 {% if app.request.locale == 'cz' %} active btn-primary {% else %} btn-secondary {% endif %}">CZ</a>
            </div>
            <a class="btn btn-primary border-0" data-bs-toggle="offcanvas"
               data-bs-target="#offcanvasNavbar"
               aria-controls="offcanvasNavbar">
                <i class="bi bi-list fs-3"></i>
            </a>
        </div>


        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
                <div></div>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">

                    {% if app.user %}
                    <li class="nav-item">
                        <a class="nav-link d-flex justify-content-between align-items-center"
                           href="{{ path('user_account') }}">
                            <div>
                                <img alt="{{ app.user.fullName }}" class="rounded-circle shadow-sm mr-3" src="{{ app.user.avatar }}" height="35"/>
                            </div>
                            <div>
                                {{ app.user.fullName }}
                            </div>
                        </a>
                    </li>
                    {% endif %}
                    <li class="nav-item">
                        <a class="nav-link d-flex justify-content-between align-items-center"
                           href="{{ path('app_asset_index') }}">
                            <div>
                                <span class="mdi mdi-home-city fs-3"></span>
                            </div>
                            <div>
                                {{ 'properties'|trans }}
                            </div>
                        </a>
                    </li>

                    {% if app.user %}
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center"
                               href="{{ path('conversation', {id: app.user.conversations|first.id }) }}">
                                <div>
                                    <i class="bi bi-chat-fill fs-3"></i>
                                </div>
                                <div>
                                    {{ 'messages'|trans }}
                                </div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center"
                               aria-current="page"
                               href="{{ path('app_logout') }}">
                                <div>
                                    <i class="bi bi-box-arrow-in-right fs-3"></i>
                                </div>
                                <div>
                                    {{ 'logout'|trans }}
                                </div>
                            </a>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center"
                               aria-current="page"
                               href="{{ path('app_login') }}">
                                <div>
                                    <i class="bi bi-box-arrow-in-left fs-3"></i>
                                </div>
                                <div>
                                    {{ "login"|trans }}
                                </div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center"
                               aria-current="page"
                               href="{{ path('app_register') }}"
                            >
                                <div>
                                    <i class="bi bi-person-plus-fill fs-3"></i>
                                </div>
                                <div>
                                    {{ 'register'|trans }}
                                </div>
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
</nav>
